{"version":3,"sources":["components/Header.js","components/contexts/CurrentUserContext.js","components/Card.js","utils/utils.js","utils/api.js","components/Main.js","components/Footer.js","components/PopupWithImage.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js","images/logo.svg"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","link","name","length","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponse","about","body","JSON","stringify","cardId","like","id","avatarLink","avatar","authorization","document","querySelector","Main","onEditAvatar","onEditProfile","onAddCard","onCardList","map","elem","key","Footer","PopupWithImage","onClose","PopupWithForm","title","isOpen","onSubmit","isDisabled","children","noValidate","disabled","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","setIsDisabled","inputNameRef","useRef","inputAboutRef","handleCheckValidity","current","checkValidity","useEffect","e","preventDefault","placeholder","value","onChange","target","ref","pattern","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","inputAvatarRef","setLink","AddPlacePopup","onAddPlace","inputLinkRef","App","isEditAvatarPopupOpen","setIsOpenPopupAvatar","isAddPlacePopupOpen","setIsOpenPopupPlace","isEditProfilePopupOpen","setIsOpenPopupProfile","selectedCard","setSelectedCard","cards","setCards","setCurrentUser","closeAllPopups","setTimeout","getProfile","catch","err","console","error","handleEscClose","evt","addEventListener","removeEventListener","handleMouseClose","classList","contains","getInitialCards","item","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","setAvatar","createCard","setProfile","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message","module","exports"],"mappings":"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","file":"static/js/main.88ca5ec5.chunk.js","sourcesContent":["import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n\treturn (\r\n\t\t<header className=\"header\">\r\n\t\t\t<img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n\t\t</header>\r\n\t);\r\n}\r\n\r\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from './contexts/CurrentUserContext';\n\nexport function Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext);   //для отрисовки иконки удаления только у своих карточек и лайков которые уже поставили\n\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `card__basket ${isOwn ? 'card__basket_visible' : 'card__basket_hidden'}`\n  );\n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const cardLikeButtonClassName = (`card__like ${isLiked ? 'card__like_active' : ''}`);\n\n\n\tfunction handleClick() {\n\t\tonCardClick(card);\n  }\n\n  function handleLikeClick() {\n\t\tonCardLike(card);\n  }\n\n  function handleDeleteClick() {\n\t\tonCardDelete(card);\n  }\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"card\">\n\t\t\t\t<button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick } />\n\t\t\t\t<img className=\"card__image\" src={card.link} alt={card.name} onClick={handleClick} />\n\t\t\t\t<div className=\"card__container\">\n\t\t\t\t\t<h3 className=\"card__title\">{card.name}</h3>\n\t\t\t\t\t<div className=\"card__container-like\">\n\t\t\t\t\t\t<button className={cardLikeButtonClassName} onClick={handleLikeClick} />\n\t\t\t\t\t\t<p className=\"card__number-likes\">{card.likes.length}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ >\n\t);\n}\n\nexport default Card;","import Api from './api';\n\nexport const formValidationOptions = {\n  formProfileSelector: '.popup__container',\n  formCardSelector: '.popup__container_add_card',\n  formAvatarSelector: '.popup__container_avatar',\n  inputSelector: '.popup__input-text',\n  submitButtonSelector: '.popup__button',\n  inactiveButtonClass: 'popup__button_disabled',\n  inputErrorClass: 'popup__input_type_error',\n  errorClass: 'popup__input-error_active'\n};\n\nexport const api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '14553299-9691-455d-8f0e-78b62284ce7d',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport const cards = document.querySelector('.cards');\n\nexport const avatarLoad = \"https://images.unsplash.com/photo-1475274047050-1d0c0975c63e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1352&q=80\";\n\n\n","export default class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _getResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`!!! Ошибка: ${res.status}`);\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponse);\n  }\n\n  //получаем ответ по нашему профилю\n  getProfile() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n\n    }).then(this._getResponse);\n  }\n\n  //обновляем данные о профиле\n  setProfile(name, about) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(this._getResponse);\n  }\n\n  //отправляем данные о новой карточке\n  createCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    }).then(this._getResponse);\n  }\n\n  //удаляем карточку\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n      })\n    });\n  }\n\n  //обновляем статус лайка\n  changeLikeCardStatus(cardId, like) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this._headers,\n      body: JSON.stringify({\n        id: cardId\n      })\n    }).then(this._getResponse);\n  }\n\n  //обновляем данные об аватаре\n  setAvatar(avatarLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarLink,\n      })\n    }).then(this._getResponse);\n  }\n}\n","import React from 'react';\nimport Card from './Card';\nimport { avatarLoad } from '../utils/utils';\nimport { CurrentUserContext } from './contexts/CurrentUserContext';\n\nfunction Main({ onEditAvatar, onEditProfile, onAddCard, onCardClick, onCardLike, onCardDelete, onCardList }) {\n\n  const currentUser = React.useContext(CurrentUserContext);  // получаем значение контекста\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\" onClick={onEditAvatar}>\n          <img className=\"profile__avatar\" src={currentUser.avatar ? currentUser.avatar : avatarLoad} alt=\"Аватар\" />\n        </div>\n        <div className=\"profile__name-block\">\n          <h2 className=\"profile__name\">{currentUser.name ? currentUser.name : \"Загрузка...\"}</h2>\n          <button type=\"button\" className=\"profile__edit\" onClick={onEditProfile} />\n          <p className=\"profile__profession\">{currentUser.about ? currentUser.about : \"...\"}</p>\n        </div>\n        <button type=\"button\" className=\"profile__button\" onClick={onAddCard} />\n      </section>\n      <section className=\"cards\">\n        {\n          onCardList.map(elem =>\n            <Card\n              card={elem}\n              key={elem._id}\n              onCardClick={onCardClick}\n              onCardLike={onCardLike}\n              onCardDelete={onCardDelete}\n            />)\n        }\n      </section>\n    </ >\n  );\n}\n\nexport default Main;\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\n\nfunction PopupWithImage({card, onClose}) {\n\n  return (\n    <div className={`popup popup_view-image ${card ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__grid popup__grid_image\">\n        <button type=\"button\" className=\"popup__close-icon popup__close-icon_image\" onClick={onClose} />\n        <figure className=\"popup__figure\">\n        <img className=\"popup__image\"    src={card?.link} alt=\"\"  />\n          <figcaption className=\"popup__caption\">{card?.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithImage;","import React from 'react';\n\nfunction PopupWithForm({ name, title, isOpen, onClose, onSubmit, isDisabled, children }) {\n  return (\n    <div className={`popup popup_${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"popup__grid\">\n        <button type=\"button\" className=\"popup__close-icon\" onClick={onClose} />\n        <form className={`popup__container popup__container_${name}`} name={`form_${name}`} onSubmit={onSubmit} noValidate>\n          <h3 className=\"popup__title\">{title}</h3>\n          {children}\n          <button className={`popup__button ${isDisabled ? \"popup__button_disabled\" : \"\"}`} disabled={isDisabled} type=\"submit\">Сохранить</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from './contexts/CurrentUserContext';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const [isDisabled, setIsDisabled] = React.useState(false);\n  const inputNameRef = React.useRef(\"\");\n  const inputAboutRef = React.useRef(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  function handleCheckValidity() {\n    inputNameRef.current.checkValidity() && inputAboutRef.current.checkValidity()\n      ?\n      setIsDisabled(false) : setIsDisabled(true);\n  }\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    handleCheckValidity();\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n    handleCheckValidity();\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    setIsDisabled(true);\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n      name='profile'\n      title='Редактировать профиль'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={isDisabled}\n    >\n      <input\n        id=\"name-input\"\n        type=\"text\"\n        name=\"inputProfileName\"\n        placeholder=\"Имя\"\n        className=\"popup__input-text popup__input-text_type_name\"\n        value={name ? name : \"\"}\n        onChange={handleChangeName}\n        ref={inputNameRef}\n        pattern=\"^[a-zA-Zа-яА-Я\\s-]+$\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required\n      />\n      <span id=\"name-input-error\" className=\"popup__input-error\"></span>\n      <input\n        id=\"profession-input\"\n        type=\"text\"\n        name=\"inputProfileProfession\"\n        placeholder=\"Профессия\"\n        className=\"popup__input-text popup__input-text_type_job\"\n        value={description ? description : \"\"}\n        onChange={handleChangeDescription}\n        ref={inputAboutRef}\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n      />\n      <span id=\"profession-input-error\" className=\"popup__input-error\"></span>\n    </ PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const inputAvatarRef = React.useRef(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [isDisabled, setIsDisabled] = React.useState(true);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: inputAvatarRef.current.value\n    });\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n    inputAvatarRef.current.checkValidity()\n      ?\n      setIsDisabled(false) : setIsDisabled(true);\n  }\n\n  React.useEffect(() => {\n    setLink(\"\");\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      title='Обновить аватар'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={isDisabled}\n    >\n      <input\n        id=\"avatar-input\"\n        type=\"url\"\n        name=\"inputAvatar\"\n        placeholder=\"Ссылка на аватар\"\n        className=\"popup__input-text popup__input-text_type_avatar\"\n        ref={inputAvatarRef}\n        onChange={handleChangeLink}\n        value={link ? link : \"\"}\n        required\n      />\n      <span id=\"avatar-input-error\" className=\"popup__input-error\"></span>\n    </ PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n  const [name, setName] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [isDisabled, setIsDisabled] = React.useState(true);\n  const inputNameRef = React.useRef(\"\");\n  const inputLinkRef = React.useRef(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: name,\n      link: link\n    });\n  }\n\n  function handleCheckValidity() {\n    inputNameRef.current.checkValidity() && inputLinkRef.current.checkValidity()\n      ?\n      setIsDisabled(false) : setIsDisabled(true);\n  }\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n    handleCheckValidity();\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n    handleCheckValidity();\n  }\n\n  React.useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n    setIsDisabled(true);\n  }, [isOpen]);\n\n  return (\n    <PopupWithForm\n      name='add_card'\n      title='Новое место'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      isDisabled={isDisabled}\n    >\n      <input\n        id=\"place-input\"\n        type=\"text\"\n        name=\"inputCardName\"\n        placeholder=\"Название\"\n        className=\"popup__input-text popup__input-text_type_place\"\n        onChange={handleChangeName}\n        value={name ? name : \"\"}\n        ref={inputNameRef}\n        minLength=\"2\"\n        maxLength=\"30\"\n        required\n      />\n      <span id=\"place-input-error\" className=\"popup__input-error\"></span>\n      <input\n        id=\"image-input\"\n        type=\"url\"\n        name=\"inputCardImage\"\n        placeholder=\"Ссылка на картинку\"\n        className=\"popup__input-text popup__input-text_type_image\"\n        onChange={handleChangeLink}\n        value={link ? link : \"\"}\n        ref={inputLinkRef}\n        required\n      />\n      <span id=\"image-input-error\" className=\"popup__input-error\"></span>\n    </ PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { api } from '../utils/utils';\nimport { CurrentUserContext } from './contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsOpenPopupAvatar] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsOpenPopupPlace] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsOpenPopupProfile] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setCurrentUser] = React.useState('');\n\n  function handleEditAvatarClick() {\n    setIsOpenPopupAvatar(!isEditAvatarPopupOpen);\n  }\n\n  function handleEditPlaceClick() {\n    setIsOpenPopupPlace(!isAddPlacePopupOpen);\n  }\n\n  function handleEditProfileClick() {\n    setIsOpenPopupProfile(!isEditProfilePopupOpen);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function handleUpdateUser(value) {\n    api.setProfile(value.name, value.about)\n      .then(res => {\n        setCurrentUser(res);\n        closeAllPopups();\n      }).catch((err) => console.error(err));\n  }\n\n  function handleUpdateAvatar(link) {\n    api.setAvatar(link.avatar)\n      .then(res => {\n        setIsOpenPopupAvatar(res);\n        setCurrentUser(res);\n        closeAllPopups();\n\n\n      }).catch((err) => console.error(err));\n  }\n\n  function handleAddPlaceSubmit(newCard) {\n    api.createCard(newCard.name, newCard.link)\n      .then(res => {\n        setIsOpenPopupPlace(res);\n        newCard = {\n          _id: res._id,\n          likes: res.likes,\n          name: res.name,\n          link: res.link,\n          owner: res.owner\n        }\n        setCards([...cards, newCard]);\n        closeAllPopups();\n      }).catch((err) => console.error(err));\n  }\n\n  function closeAllPopups() {\n    setIsOpenPopupAvatar(false);\n    setIsOpenPopupPlace(false);\n    setIsOpenPopupProfile(false);\n\n    setTimeout(() => setSelectedCard(null), 250);\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch((err) => console.error(err));\n\n  }\n  function handleCardDelete(card) {\n    api.deleteCard(card._id).then((newCard) => {\n      const newCards = cards.filter((c) => c._id === card._id ? null : newCard);\n      setCards(newCards);\n    })\n      .catch((err) => console.error(err));\n  }\n\n  React.useEffect(() => {\n    api.getProfile()\n      .then(res => {\n        setCurrentUser(res);\n      }).catch((err) => console.error(err));\n  }, []);\n\n\n  React.useEffect(() => {\n    const handleEscClose = (evt) => {\n      if (evt.key === \"Escape\") closeAllPopups();\n    }\n    document.addEventListener(\"keydown\", handleEscClose);\n    return () => document.removeEventListener(\"keydown\", handleEscClose);\n  });\n\n  React.useEffect(() => {\n    const handleMouseClose = (evt) => {\n      if (evt.target.classList.contains(\"popup_opened\")) closeAllPopups();\n    }\n    document.addEventListener(\"click\", handleMouseClose);\n    return () => document.removeEventListener(\"click\", handleMouseClose);\n  });\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then((res) => {\n        setCards(res.map(item => ({\n          _id: item._id,\n          likes: item.likes,\n          name: item.name,\n          link: item.link,\n          owner: item.owner\n        })));\n      })\n      .catch((err) => console.error(err));\n  }, []);\n\n  return (\n    <div>\n      <main className=\"page\">\n\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onAddCard={handleEditPlaceClick}\n            onEditProfile={handleEditProfileClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            onCardList={cards}\n          />\n          <Footer />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <PopupWithImage\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n        </CurrentUserContext.Provider>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.855a8c98.svg\";"],"sourceRoot":""}